<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat History - SpiderCare</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/history.css">
</head>
<body>
    <header>
        <div class="logo-container">
            <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                <path fill="#e62429" d="M25,2C12.3,2,2,12.3,2,25s10.3,23,23,23s23-10.3,23-23S37.7,2,25,2z M35.8,34.1c-1.2,0.4-2.3,0.1-3.2-1.1l-4.4-6.1 l-3.9,5.1h3.3l1.4,6.2c0.2,1.1-0.1,2.1-0.9,2.8c-0.7,0.5-1.5,0.8-2.3,0.8c-0.8,0-1.5-0.3-2.1-0.8c-0.8-0.7-1.2-1.7-0.9-2.8l1.4-6.2h2.2 l-7.2-10l-7.9,10h3.3l1.4,6.2c0.3,1.3-0.3,2.6-1.6,3.1c-1.2,0.4-2.3,0.1-3.2-1.1c-0.6-0.8-0.8-1.8-0.5-2.8l1.5-6.2h2.5l10.8-14 l-2.7-3.8c-0.7-1-0.8-2-0.3-3.1c0.5-1.1,1.3-1.7,2.5-1.9c1.2-0.2,2.2,0.3,3,1.4l18.1,25.1c0.7,1,0.8,2,0.3,3.1S37,33.8,35.8,34.1z"/>
            </svg>
            <h1>SpiderCare</h1>
        </div>
        <nav class="main-nav">
            <a href="chat.html">Chat</a>
            <a href="settings.html">Settings</a>
            <a href="#" id="logout-button" class="nav-button">Logout</a>
        </nav>
    </header>

    <main class="history-container">
        <div class="history-header">
            <h2>Conversation History</h2>
            <p>Review your past conversations with SpiderCare</p>
        </div>

        <!-- Alert messages will be displayed here -->
        <div id="alert-container"></div>

        <!-- Search bar -->
        <div class="search-container">
            <input type="text" id="search-input" placeholder="Search conversations...">
            <button id="search-button" class="btn">Search</button>
        </div>

        <!-- Conversations list -->
        <div class="conversations-container">
            <div class="conversations-list" id="conversations-list">
                <!-- Conversations will be loaded here -->
                <div class="empty-state" id="empty-state">
                    <div class="empty-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                    </div>
                    <h3>No conversations yet</h3>
                    <p>Start a new conversation to see your history here</p>
                    <a href="chat.html" class="btn">Start Chatting</a>
                </div>
            </div>

            <!-- Conversation details -->
            <div class="conversation-details" id="conversation-details">
                <div class="details-header">
                    <h3>Select a Conversation</h3>
                    <p>Click on a conversation to view its details</p>
                </div>
                <div class="conversation-messages" id="conversation-messages">
                    <!-- Messages will be displayed here when a conversation is selected -->
                </div>
                <div class="details-actions">
                    <button id="continue-chat" class="btn">Continue This Chat</button>
                    <button id="delete-conversation" class="btn btn-danger">Delete Conversation</button>
                </div>
            </div>
        </div>

        <!-- Pagination -->
        <div class="pagination" id="pagination">
            <button id="prev-page" class="btn btn-secondary" disabled>Previous</button>
            <span id="page-info">Page 1 of 1</span>
            <button id="next-page" class="btn btn-secondary" disabled>Next</button>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-logo">
                <svg class="logo-small" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
                    <path fill="#e62429" d="M25,2C12.3,2,2,12.3,2,25s10.3,23,23,23s23-10.3,23-23S37.7,2,25,2z M35.8,34.1c-1.2,0.4-2.3,0.1-3.2-1.1l-4.4-6.1 l-3.9,5.1h3.3l1.4,6.2c0.2,1.1-0.1,2.1-0.9,2.8c-0.7,0.5-1.5,0.8-2.3,0.8c-0.8,0-1.5-0.3-2.1-0.8c-0.8-0.7-1.2-1.7-0.9-2.8l1.4-6.2h2.2 l-7.2-10l-7.9,10h3.3l1.4,6.2c0.3,1.3-0.3,2.6-1.6,3.1c-1.2,0.4-2.3,0.1-3.2-1.1c-0.6-0.8-0.8-1.8-0.5-2.8l1.5-6.2h2.5l10.8-14 l-2.7-3.8c-0.7-1-0.8-2-0.3-3.1c0.5-1.1,1.3-1.7,2.5-1.9c1.2-0.2,2.2,0.3,3,1.4l18.1,25.1c0.7,1,0.8,2,0.3,3.1S37,33.8,35.8,34.1z"/>
                </svg>
                <span>SpiderCare</span>
            </div>
            <div class="footer-links">
                <a href="privacy.html">Privacy Policy</a>
                <a href="terms.html">Terms of Service</a>
                <a href="contact.html">Contact</a>
            </div>
        </div>
        <p class="copyright">&copy; 2025 SpiderCare. All rights reserved.</p>
    </footer>

    <div id="modal-container" class="modal-container">
        <div class="modal-content">
            <h3>Confirm Action</h3>
            <p id="modal-message">Are you sure you want to delete this conversation?</p>
            <div class="modal-actions">
                <button id="modal-cancel" class="btn btn-secondary">Cancel</button>
                <button id="modal-confirm" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/history.js"></script>
</body>
</html>